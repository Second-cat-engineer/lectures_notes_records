## Урок 3. Принципы: Как пишутся хорошие классы (Наследование. Полиморфизм. Инкапсуляция).

#### Наследование
Нет ограничения на глубину иерархии. Нельзя множественное наследование и циклического наследования.

Избегать длинных иерархий.

self, static, abstract class/method, final class, константы и т.д.

Модификаторы доступа к методам и свойствам:
- public;
- private (недоступен наследникам);
- protected (доступен наследникам).

Метод load() общий, но вместо наследования можно делегировать:

[Как было](./demo/demo02.php)

[Реализовано делегирование](./demo/demo03.php)

___
#### Трейты

[Как было](./demo/demo04.php)

[С использованием трейта](./demo/demo05.php)

[Реализация без терйта](./demo/demo06.php)
___
#### Про интерфейсы
[Пример для игры с использованием интерфейсов](./demo/demo07.php)
___
#### Пример с математической библиотекой.
[Допустим есть клас Canvas, который умеет рисовать точку и линию](./demo/demo08.php)

Но он рисует только в одной системе (декартовой). А если нужно чтоб он умел в нескольких системах рисовать
(сферическая, полярная)?

[Немного перепишем клас Canvas, так, чтобы он умет рисовать точку в трех системах координат.](./demo/demo09.php)

Как это реализовать в ООП стиле?
- Сделать абстрактный класс Point;
- Конкретные классы для каждой системы координат;
- Реализовать в конкретном классе метод для получения координат точки;

[Результат, после проведенного рефакторинга](./demo/demo10.php)

Но может быть так, что по каким-то причинам нельзя будет наследоваться от класса Point (т.к. наследуется от SuperPoint).
Что делать тогда?

[Заменить на интерфейс и перенести установку свойств в конструктор](./demo/demo11.php)

Дошло что это пример полиморфизма (метод paint() всеядный) и инкапсуляции (реализация метода getPointCoordinates() в
конкретном классе).

Если трейты или хелперы нужны для того чтобы туда вынести повторяющийся код. То интерфейсы нужны именно для того, чтобы
написать такую библиотеку, которая, вместо того чтобы зависеть от конкретного класса, будут зависеть от интерфейса.


Почему нужно избегать кода, где много if?

Цикломатическая сложность - параметр, который показывает сколько путей исполнения находится в коде.